<!--
  Licensed to the Apache Software Foundation (ASF) under one or more
  contributor license agreements.  See the NOTICE file distributed with
  this work for additional information regarding copyright ownership.
  The ASF licenses this file to You under the Apache License, Version 2.0
  (the "License"); you may not use this file except in compliance with
  the License.  You may obtain a copy of the License at

      http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
-->
<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="ja" xml:lang="ja">
<head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type" />
<meta name="copyright" content="(C) Copyright 2005" />
<meta name="DC.rights.owner" content="(C) Copyright 2005" />
<meta content="public" name="security" />
<meta content="index,follow" name="Robots" />
<meta http-equiv="PICS-Label" content='(PICS-1.1 "http://www.icra.org/ratingsv02.html" l gen true r (cz 1 lz 1 nz 1 oz 1 vz 1) "http://www.rsac.org/ratingsv01.html" l gen true r (n 0 s 0 v 0 l 0) "http://www.classify.org/safesurf/" l gen true r (SS~~000 1))' />
<meta content="reference" name="DC.Type" />
<meta name="DC.Title" content="FOR UPDATE 節" />
<meta content="FOR UPDATE clause, Cursors" name="DC.subject" />
<meta content="FOR UPDATE clause, Cursors" name="keywords" />
<meta scheme="URI" name="DC.Relation" content="rrefclauses.html" />
<meta content="XHTML" name="DC.Format" />
<meta content="rrefsqlj31783" name="DC.Identifier" />
<meta content="ja" name="DC.Language" />
<link href="commonltr.css" type="text/css" rel="stylesheet" />
<title>FOR UPDATE 節</title>
</head>
<body id="rrefsqlj31783"><a name="rrefsqlj31783"><!-- --></a>


<h1 class="topictitle1">FOR UPDATE 節</h1>


<div>
<div class="section">  
<p><a href="rrefsqlj41360.html#rrefsqlj41360">SELECT文</a>にはFOR UPDATE節を持たせることができます。
既定でカーソルは読み込みしかできません。FOR UPDATE節により、コンパイル中にSELECT文が更新可能な<em>カーソル</em>の必要条件を満たすかを検証して、カーソルを更新可能とします。
更新可能であることの詳細については、<a href="rrefsqlj41360.html#rrefsqlj41360__sqlj15384">更新可能なカーソルの必要条件</a>を参照してください。</p>
 </div>

<div class="section"><h4 class="sectiontitle">構文</h4> <pre><strong>FOR
{
    READ ONLY | FETCH ONLY |
    UPDATE [ OF <em><a href="rrefsimplecolumnname.html#rrefsimplecolumnname">単純列名</a></em> [ , <em><a href="rrefsimplecolumnname.html#rrefsimplecolumnname">単純列名</a></em>]* ]
}</strong></pre>
 <p><em>単純列名</em> により、問い合わせ文のFROM節にある表にて、可視な名前を参照します。</p>
 
</div>

<div class="section">
<div class="p"><div class="note"><span class="notetitle">注: </span>更新可能なJDBCのResultSetを得るために、必ずしもFOR UPDATE節を使う必要はありません。
JDBCのResultSetの元となる文が、更新可能なカーソルの必要条件を満たしてさえいれば、JDBC Statementから、並行処理モードが<samp class="codeph">ResultSet.CONCUR_UPDATABLE</samp>のJDBC ResultSetを生成することができます。
</div>
</div>
 
<p>索引の列が更新されていても、索引を使った最適化が可能です。索引がどのようにカーソルに影響するかについては、<cite><span><em>Tuning Derby</em></span></cite>を参照してください。</p>
 
</div>

<div class="example"> <pre><strong>SELECT RECEIVED, SOURCE, SUBJECT, NOTE_TEXT FROM SAMP.IN_TRAY FOR UPDATE
</strong></pre>
 </div>

</div>

<div>
<div class="familylinks">
<div class="parentlink"><strong>親トピック:</strong> <a href="rrefclauses.html" title="">SQL 節</a></div>
</div>
</div>

</body>
</html>